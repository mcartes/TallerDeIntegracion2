<?php

declare(strict_types=1);

namespace PackageVersions;

use Composer\InstalledVersions;
use OutOfBoundsException;

class_exists(InstalledVersions::class);

/**
 * This class is generated by composer/package-versions-deprecated, specifically by
 * @see \PackageVersions\Installer
 *
 * This file is overwritten at every run of `composer install` or `composer update`.
 *
 * @deprecated in favor of the Composer\InstalledVersions class provided by Composer 2. Require composer-runtime-api:^2 to ensure it is present.
 */
final class Versions
{
    /**
     * @deprecated please use {@see self::rootPackageName()} instead.
     *             This constant will be removed in version 2.0.0.
     */
    const ROOT_PACKAGE_NAME = 'elgg/starter-project';

    /**
     * Array of all available composer packages.
     * Dont read this array from your calling code, but use the \PackageVersions\Versions::getVersion() method instead.
     *
     * @var array<string, string>
     * @internal
     */
    const VERSIONS          = array (
  'cakephp/core' => '4.2.9@dcb38950fa3bd722856f923ea8e4657ffcac78a7',
  'cakephp/database' => '4.2.9@b41ccd93717f690a78e7564c4308de01b58cec5f',
  'cakephp/datasource' => '4.2.9@211d985dbd9d55e81b1725ecb40e9da2cd83da05',
  'cakephp/utility' => '4.2.9@4259ae4154e639557af751ae719d58253a79282a',
  'ckeditor/ckeditor' => '4.16.2@b2758d4603322b1fc12b4e6208240f1e785e1cfa',
  'composer/installers' => 'v1.12.0@d20a64ed3c94748397ff5973488761b22f6d3f19',
  'composer/package-versions-deprecated' => '1.11.99.4@b174585d1fe49ceed21928a945138948cb394600',
  'composer/semver' => '3.2.5@31f3ea725711245195f62e54ffa402d8ef2fdba9',
  'container-interop/container-interop' => '1.2.0@79cbf1341c22ec75643d841642dd5d6acd83bdb8',
  'css-crush/css-crush' => 'v2.4.0@f632d04940d90054efbfe7a6675dc3aa8cac183f',
  'doctrine/cache' => '2.1.1@331b4d5dbaeab3827976273e9356b3b453c300ce',
  'doctrine/dbal' => '3.1.3@96b0053775a544b4a6ab47654dac0621be8b4cf8',
  'doctrine/deprecations' => 'v0.5.3@9504165960a1f83cc1480e2be1dd0a0478561314',
  'doctrine/event-manager' => '1.1.1@41370af6a30faa9dc0368c4a6814d596e81aba7f',
  'dragonmantank/cron-expression' => 'v3.1.0@7a8c6e56ab3ffcc538d05e8155bb42269abf1a0c',
  'elgg/elgg' => '4.0.1@b1155d93dc4e271265faab1abe3343a2d12fba3a',
  'elgg/login_as' => '3.1@4e6dc466b02bdb211b9f726343a30928bd9c440b',
  'eloquent/composer-config-reader' => '3.0.0@ea8398e742182237baec71156939e54c012a97e4',
  'eloquent/enumeration' => '6.0.0@15a1959683ae4fea75e19ff09d72a344ece3c6a4',
  'fortawesome/font-awesome' => '5.15.4@7d3d774145ac38663f6d1effc6def0334b68ab7e',
  'fzaninotto/faker' => 'v1.9.2@848d8125239d7dbf8ab25cb7f054f1a630e68c2e',
  'guzzlehttp/guzzle' => '7.3.0@7008573787b430c1c1f650e3722d9bba59967628',
  'guzzlehttp/promises' => '1.5.0@136a635e2b4a49b9d79e9c8fee267ffb257fdba0',
  'guzzlehttp/psr7' => '2.1.0@089edd38f5b8abba6cb01567c2a8aaa47cec4c72',
  'hackzilla/password-generator' => '1.6.0@53c13507b5b9875a07618f1f2a7db95e5b8c0638',
  'imagine/imagine' => '1.2.4@d2e18be6e930ca169e4f921ef73ebfc061bf55d8',
  'justinrainbow/json-schema' => '5.2.11@2ab6744b7296ded80f8cc4f9509abbff393399aa',
  'laminas/laminas-loader' => '2.8.0@d0589ec9dd48365fd95ad10d1c906efd7711c16b',
  'laminas/laminas-mail' => '2.14.3@a496ab1c708b91809de211522057a6d6781bd0aa',
  'laminas/laminas-mime' => '2.9.0@02cc861f704d468726866457dcf8338d1fe74e76',
  'laminas/laminas-servicemanager' => '3.10.0@e52b985909e0940bf22d34f322eb3f48bbef6bd1',
  'laminas/laminas-stdlib' => '3.6.0@c53d8537f108fac3fae652677a19735db730ba46',
  'laminas/laminas-validator' => '2.15.0@270380e87904f5a1a1fba3059989d4ca157e16a9',
  'laminas/laminas-zendframework-bridge' => '1.4.0@bf180a382393e7db5c1e8d0f2ec0c4af9c724baf',
  'league/flysystem' => '1.1.5@18634df356bfd4119fe3d6156bdb990c414c14ea',
  'league/flysystem-memory' => '1.0.2@d0e87477c32e29f999b4de05e64c1adcddb51757',
  'league/mime-type-detection' => '1.8.0@b38b25d7b372e9fddb00335400467b223349fd7e',
  'michelf/php-markdown' => '1.9.0@c83178d49e372ca967d1a8c77ae4e051b3a3c75c',
  'misd/linkify' => 'v1.1.4@3481b148806a23b4001712de645247a1a4dcc10a',
  'monolog/monolog' => '2.2.0@1cb1cde8e8dd0f70cc0fe51354a59acad9302084',
  'mrclay/minify' => '2.3.3@1928e89208d28e91427b2f13b67acdbd8cd01ac9',
  'npm-asset/components-jqueryui' => '1.12.1@',
  'npm-asset/cropperjs' => '1.5.12@',
  'npm-asset/jquery' => '3.6.0@',
  'npm-asset/jquery-colorbox' => '1.6.4@',
  'npm-asset/jquery-cropper' => '1.0.1@',
  'npm-asset/normalize.css' => '8.0.1@',
  'npm-asset/requirejs' => '2.3.6@',
  'npm-asset/requirejs-text' => '2.0.16@3f9d4c19b3a1a3c6f35650c5788cbea1db93197a',
  'npm-asset/sprintf-js' => '1.1.2@',
  'npm-asset/yaireo--tagify' => '4.0.5@',
  'opis/closure' => '3.6.2@06e2ebd25f2869e54a306dda991f7db58066f7f6',
  'pelago/emogrifier' => 'v5.0.1@37595a9bb62c3c25969bdd9e8d7dd24c3ac62bc9',
  'peppeocchi/php-cron-scheduler' => 'v4.0@0acfa032e60f0ea22a27b96a6b15a673a31d3448',
  'php-di/invoker' => '2.3.2@5214cbe5aad066022cd845dbf313f0e47aed928f',
  'php-di/php-di' => '6.3.5@b8126d066ce144765300ee0ab040c1ed6c9ef588',
  'php-di/phpdoc-reader' => '2.2.1@66daff34cbd2627740ffec9469ffbac9f8c8185c',
  'psr/cache' => '1.0.1@d11b50ad223250cf17b86e38383413f5a6764bf8',
  'psr/container' => '1.1.1@8622567409010282b7aeebe4bb841fe98b58dcaf',
  'psr/http-client' => '1.0.1@2dfb5f6c5eff0e91e20e913f8c5452ed95b86621',
  'psr/http-factory' => '1.0.1@12ac7fcd07e5b077433f5f2bee95b3a771bf61be',
  'psr/http-message' => '1.0.1@f6561bf28d520154e4b0ec72be95418abe6d9363',
  'psr/log' => '1.1.4@d49695b909c3b7628b6289db5479a1c204601f11',
  'psr/simple-cache' => '1.0.1@408d5eafb83c57f6365a3ca330ff23aa4a5fa39b',
  'ralouphie/getallheaders' => '3.0.3@120b605dfeb996808c31b6477290a714d356e822',
  'react/promise' => 'v2.8.0@f3cff96a19736714524ca0dd1d4130de73dbbbc4',
  'roave/security-advisories' => 'dev-master@0488e161600117fc3a0d72397dad154729002f54',
  'robmorgan/phinx' => '0.12.8@d2ed1b452cc90f4cae4ea6b5976b94fb9e5ed2a2',
  'symfony/config' => 'v5.3.4@4268f3059c904c61636275182707f81645517a37',
  'symfony/console' => 'v3.4.47@a10b1da6fc93080c180bba7219b5ff5b7518fe81',
  'symfony/css-selector' => 'v5.3.4@7fb120adc7f600a59027775b224c13a33530dd90',
  'symfony/debug' => 'v4.4.31@43ede438d4cb52cd589ae5dc070e9323866ba8e0',
  'symfony/deprecation-contracts' => 'v2.4.0@5f38c8804a9e97d23e0c8d63341088cd8a22d627',
  'symfony/filesystem' => 'v5.3.4@343f4fe324383ca46792cae728a3b6e2f708fb32',
  'symfony/http-foundation' => 'v3.4.47@b9885fcce6fe494201da4f70a9309770e9d13dc8',
  'symfony/polyfill-ctype' => 'v1.23.0@46cd95797e9df938fdd2b03693b5fca5e64b01ce',
  'symfony/polyfill-mbstring' => 'v1.23.1@9174a3d80210dca8daa7f31fec659150bbeabfc6',
  'symfony/polyfill-php70' => 'v1.20.0@5f03a781d984aae42cebd18e7912fa80f02ee644',
  'symfony/polyfill-php80' => 'v1.23.1@1100343ed1a92e3a38f9ae122fc0eb21602547be',
  'symfony/polyfill-php81' => 'v1.23.0@e66119f3de95efc359483f810c4c3e6436279436',
  'symfony/routing' => 'v3.4.47@3e522ac69cadffd8131cc2b22157fa7662331a6c',
  'symfony/var-dumper' => 'v3.4.47@0719f6cf4633a38b2c1585140998579ce23b4b7d',
  'tedivm/stash' => 'v0.16.0@7d42f58e4f395397d7c76d4eff55eb56aacadc34',
  'true/punycode' => 'v2.1.1@a4d0c11a36dd7f4e7cd7096076cab6d3378a071e',
  'vanilla/htmlawed' => 'v2.2.5@b1fc7b3990796112387c08a132f85b7333022ec2',
  'webmozart/assert' => '1.10.0@6964c76c7804814a842473e0c8fd15bab0f18e25',
  'elgg/starter-project' => 'dev-master@0692f4521ae54ff4c4c2de9f9c8f867eec134972',
);

    private function __construct()
    {
    }

    /**
     * @psalm-pure
     *
     * @psalm-suppress ImpureMethodCall we know that {@see InstalledVersions} interaction does not
     *                                  cause any side effects here.
     */
    public static function rootPackageName() : string
    {
        if (!self::composer2ApiUsable()) {
            return self::ROOT_PACKAGE_NAME;
        }

        return InstalledVersions::getRootPackage()['name'];
    }

    /**
     * @throws OutOfBoundsException If a version cannot be located.
     *
     * @psalm-param key-of<self::VERSIONS> $packageName
     * @psalm-pure
     *
     * @psalm-suppress ImpureMethodCall we know that {@see InstalledVersions} interaction does not
     *                                  cause any side effects here.
     */
    public static function getVersion(string $packageName): string
    {
        if (self::composer2ApiUsable()) {
            return InstalledVersions::getPrettyVersion($packageName)
                . '@' . InstalledVersions::getReference($packageName);
        }

        if (isset(self::VERSIONS[$packageName])) {
            return self::VERSIONS[$packageName];
        }

        throw new OutOfBoundsException(
            'Required package "' . $packageName . '" is not installed: check your ./vendor/composer/installed.json and/or ./composer.lock files'
        );
    }

    private static function composer2ApiUsable(): bool
    {
        if (!class_exists(InstalledVersions::class, false)) {
            return false;
        }

        if (method_exists(InstalledVersions::class, 'getAllRawData')) {
            $rawData = InstalledVersions::getAllRawData();
            if (count($rawData) === 1 && count($rawData[0]) === 0) {
                return false;
            }
        } else {
            $rawData = InstalledVersions::getRawData();
            if ($rawData === null || $rawData === []) {
                return false;
            }
        }

        return true;
    }
}
